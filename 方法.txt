//字符串转base64
function stringToBase64(str) {
  return btoa(unescape(encodeURIComponent(str)));
}

// 获取base64
    getBase64(file) {
	return new Promise((resolve, reject) => {
		const reader = new FileReader()
		let fileResult = ''
		reader.readAsDataURL(file)
		// 开始转
		reader.onload = () => {
			fileResult = reader.result;
          			console.log('开始上传');
		}
		// 转 失败
		reader.onerror = error => {
			reject(error);
		 	console.log('失败啦');
		}
		// 转 结束
		reader.onloadend = () => {
			resolve(fileResult);
          			console.log('结束啦');
		}
	})
},